{% extends "base.html" %}

{% block title %}Trang chủ - Báo cáo{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="jumbotron bg-light p-4 rounded">
        <h1 class="display-4">Tổng quan</h1>
        <p class="lead">Hệ thống nhận diện khách hàng trong chatbot bán hàng được phát triển nhằm cá nhân hóa trải nghiệm mua sắm và nâng cao hiệu quả bán hàng thông qua công nghệ nhận diện khuôn mặt.</p>
        <hr class="my-4">
        <p>Hệ thống bao gồm hai thành phần chính: phát hiện khuôn mặt (RetinaFace) và nhận dạng khuôn mặt (ArcFace), giúp chatbot bán hàng có khả năng nhận diện khách hàng quen thuộc, truy xuất lịch sử mua hàng và cung cấp đề xuất sản phẩm được cá nhân hóa.</p>
    </div>

    <div class="row mb-4 mt-4">
        <div class="col-md-6">
            <div class="card h-100">
                <div class="card-header bg-primary text-white">
                    <h5 class="card-title mb-0">Mô hình phát hiện khuôn mặt</h5>
                </div>
                <div class="card-body">
                    <p>Hệ thống sử dụng 4 mô hình phát hiện khuôn mặt khác nhau:</p>
                    <ul>
                        <li><strong>MTCNN:</strong> Multi-task Cascaded Convolutional Networks</li>
                        <li><strong>Haar Cascade:</strong> Phương pháp truyền thống sử dụng Haar features</li>
                        <li><strong>RetinaFace:</strong> Mô hình hiện đại với độ chính xác cao</li>
                        <li><strong>YOLO:</strong> You Only Look Once, mô hình phát hiện đối tượng nhanh</li>
                    </ul>
                    <p>Các mô hình được đánh giá dựa trên các chỉ số như IoU, khoảng cách tâm và thời gian xử lý.</p>
                    <div class="text-center mt-3">
                        <a href="{{ url_for('face_detection') }}" class="btn btn-primary">Xem chi tiết</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card h-100">
                <div class="card-header bg-success text-white">
                    <h5 class="card-title mb-0">Mô hình nhận diện khuôn mặt</h5>
                </div>
                <div class="card-body">
                    <p>Hệ thống sử dụng 3 mô hình nhúng đặc trưng khác nhau:</p>
                    <ul>
                        <li><strong>ArcFace:</strong> Mô hình với hàm mất mát Additive Angular Margin</li>
                        <li><strong>FaceNet:</strong> Mô hình nhúng khuôn mặt của Google</li>
                        <li><strong>EfficientNet:</strong> Mô hình hiệu quả với kiến trúc tối ưu</li>
                    </ul>
                    <p>Các mô hình được đánh giá dựa trên các chỉ số như Accuracy, F1 Score, FAR, FRR và AUC.</p>
                    <div class="text-center mt-3">
                        <a href="{{ url_for('face_identification') }}" class="btn btn-success">Xem chi tiết</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row mb-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header bg-info text-white">
                    <h5 class="card-title mb-0">Tổng quan kết quả</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Phát hiện khuôn mặt</h6>
                            <table class="table table-bordered">
                                <thead class="table-light">
                                    <tr>
                                        <th>Mô hình</th>
                                        <th>IoU trung bình</th>
                                        <th>Khoảng cách tâm (px)</th>
                                        <th>Thời gian xử lý (ms)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>RetinaFace</td>
                                        <td>0.8483</td>
                                        <td>20.58</td>
                                        <td>425.5</td>
                                    </tr>
                                    <tr>
                                        <td>MTCNN</td>
                                        <td>0.8203</td>
                                        <td>23.48</td>
                                        <td>795.8</td>
                                    </tr>
                                    <tr>
                                        <td>YOLO</td>
                                        <td>0.6637</td>
                                        <td>41.66</td>
                                        <td>183.3</td>
                                    </tr>
                                    <tr>
                                        <td>Haar Cascade</td>
                                        <td>0.6629</td>
                                        <td>38.01</td>
                                        <td>460.0</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-md-6">
                            <h6>Nhận diện khuôn mặt</h6>
                            <table class="table table-bordered">
                                <thead class="table-light">
                                    <tr>
                                        <th>Mô hình</th>
                                        <th>Ngưỡng tối ưu</th>
                                        <th>Độ chính xác</th>
                                        <th>ERR</th>
                                        <th>AUC</th>
                                        <th>Thời gian xử lý (ms/cặp)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>ArcFace</td>
                                        <td>0.2000</td>
                                        <td>1.0000</td>
                                        <td>0.0000</td>
                                        <td>1.0000</td>
                                        <td>1115.4</td>
                                    </tr>
                                    <tr>
                                        <td>FaceNet</td>
                                        <td>0.7000</td>
                                        <td>0.9207</td>
                                        <td>0.0794</td>
                                        <td>0.9650</td>
                                        <td>1574.7</td>
                                    </tr>
                                    <tr>
                                        <td>EfficientNet</td>
                                        <td>0.6500</td>
                                        <td>0.6998</td>
                                        <td>0.3002</td>
                                        <td>0.7650</td>
                                        <td>492.4</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-secondary text-white">
                    <h5 class="card-title mb-0">Tính năng chính</h5>
                </div>
                <div class="card-body">
                    <ul>
                        <li>So sánh hiệu suất của các thuật toán nhận diện khuôn mặt</li>
                        <li>Phân tích các chỉ số IoU, khoảng cách tâm, thời gian xử lý</li>
                        <li>Hiển thị kết quả nhận diện trên ảnh khách hàng</li>
                        <li>Xem ảnh có IoU lớn nhất và nhỏ nhất</li>
                        <li>Đánh giá các mô hình nhúng đặc trưng với các chỉ số Accuracy, F1, FAR, FRR</li>
                        <li>Phân tích đường cong ROC và tính toán AUC</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-secondary text-white">
                    <h5 class="card-title mb-0">Hướng dẫn sử dụng</h5>
                </div>
                <div class="card-body">
                    <ol>
                        <li>Xem tổng quan kết quả trên trang chủ</li>
                        <li>Chọn "Phát hiện khuôn mặt" để xem chi tiết về các mô hình phát hiện</li>
                        <li>Chọn "Nhận diện khuôn mặt" để xem chi tiết về các mô hình nhận diện</li>
                        <li>Trong mỗi trang, bạn có thể chọn mô hình cụ thể để xem kết quả chi tiết</li>
                        <li>Phân tích các biểu đồ và bảng thống kê để đánh giá hiệu suất</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <div class="row mt-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 class="card-title mb-0">Lợi ích của hệ thống nhận diện khách hàng trong chatbot bán hàng</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>Cá nhân hóa trải nghiệm mua sắm với độ chính xác cao (ArcFace: Accuracy = 1.0000)</li>
                                <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>Nhận diện chính xác khách hàng quen thuộc và truy xuất lịch sử mua hàng</li>
                                <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>Cung cấp đề xuất sản phẩm được cá nhân hóa dựa trên sở thích của khách hàng</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>Tăng hiệu quả bán hàng và cải thiện dịch vụ khách hàng</li>
                                <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>Thu thập và phân tích dữ liệu hành vi khách hàng để cải thiện chiến lược tiếp thị</li>
                                <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>Tạo trải nghiệm mua sắm liền mạch và tăng cường sự hài lòng của khách hàng</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
